برای اینکه فایل هایی که در ابتدای آن ها عبارت lock آمده است را فقط ۱ بار اجازه ایجاد و ویرایش (زمان ایجاد فایل و نوشتن اولین دفعه) دهیم، لازم است تا بتوانیم نوشته شدن در فایل را برای دفعه ی اول داشته باشیم که آیا این فایل برای اولین بار در آن نوشته شده است یا خیر. برای این کار در rootdirectory_t یک متغیر به نام initialized_file ایجاد میکنیم و پدینگ unused پییشین را از ۱۰ به ۹ کاهش می دهیم. تصویر آن را در شکل زیر میتوانید ببینید.

[pic1-1]

همچنین یک متغیر گلوبال به نام prefix_important تعریف میکنیم که مقدار آن برابر با lock است. این رشته در حقیقت رشته ای است که میخواهیم برای پیدا کردن نام فایل هایی که با lock شروع می شوند استفاده کنیم. 

در تابع fs_create هنگامی که مقادیر root_dir_block را تعیین میکنیم، مقدار اولیه initialized_file را برابر با ۰ قرار می دهیم. 
[pic1-2]

حال تابع startswith را پیاده سازی می کنیم. در این تابع با گرفتن یک رشته ی اصلی و یک رشته ای که قصد داریم رخداد آن را در ابتدای رشته ی اصلی بیابیم، در صورت وجود پیشوند یکسان مقدار true داده می شود و در غیر این صورت مقدار false. تصویر آن را در زیر می بینید.
[pic1-3]

لازم به ذکر است که در fs_write بعد از اینکه همه چیز به خوبی پیش رفت و انجام شد، مقدار initialized_file را برابر با ۱ قرار می دهیم.البته پیش از آن در همان تابع ابتدا چک می کنیم که اگر initialized_file یک بود و حاصل startswith(file_name, prefix_important) مقدار true بود، ارور نمایش داده شود و اجرای ادامه ی کار متوقف شود.(شکل زیر)
[pic1-3]
